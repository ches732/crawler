<html lang="en" op="item"><head><meta name="referrer" content="origin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" type="text/css" href="news.css?5H9MtNw5DeqtfAm5Zd9Y">
        <link rel="shortcut icon" href="favicon.ico">
        <title>PostgreSQL: No More Vacuum, No More Bloat | Hacker News</title></head><body><center><table id="hnmain" border="0" cellpadding="0" cellspacing="0" width="85%" bgcolor="#f6f6ef">
        <tr><td bgcolor="#ff6600"><table border="0" cellpadding="0" cellspacing="0" width="100%" style="padding:2px"><tr><td style="width:18px;padding-right:4px"><a href="https://news.ycombinator.com"><img src="y18.svg" width="18" height="18" style="border:1px white solid; display:block"></a></td>
                  <td style="line-height:12pt; height:10px;"><span class="pagetop"><b class="hnname"><a href="news">Hacker News</a></b>
                            <a href="newest">new</a> | <a href="front">past</a> | <a href="newcomments">comments</a> | <a href="ask">ask</a> | <a href="show">show</a> | <a href="jobs">jobs</a> | <a href="submit">submit</a>            </span></td><td style="text-align:right;padding-right:4px;"><span class="pagetop">
                              <a href="login?goto=item%3Fid%3D36740921">login</a>
                          </span></td>
              </tr></table></td></tr>
<tr id="pagespace" title="PostgreSQL: No More Vacuum, No More Bloat" style="height:10px"></tr><tr><td><table class="fatitem" border="0">
        <tr class='athing' id='36740921'>
      <td align="right" valign="top" class="title"><span class="rank"></span></td>      <td valign="top" class="votelinks"><center><a id='up_36740921'href='vote?id=36740921&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://www.orioledata.com/blog/no-more-vacuum-in-postgresql/" rel="noreferrer">PostgreSQL: No More Vacuum, No More Bloat</a><span class="sitebit comhead"> (<a href="from?site=orioledata.com"><span class="sitestr">orioledata.com</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36740921">91 points</span> by <a href="user?id=pella" class="hnuser">pella</a> <span class="age" title="2023-07-15T21:03:17"><a href="item?id=36740921">2 hours ago</a></span> <span id="unv_36740921"></span> | <a href="hide?id=36740921&amp;goto=item%3Fid%3D36740921">hide</a> | <a href="https://hn.algolia.com/?query=PostgreSQL%3A%20No%20More%20Vacuum%2C%20No%20More%20Bloat&type=story&dateRange=all&sort=byDate&storyText=false&prefix&page=0" class="hnpast">past</a> | <a href="fave?id=36740921&amp;auth=ab0e90962a0d160f60f794a089cb5dd7a7627dcc">favorite</a> | <a href="item?id=36740921">34&nbsp;comments</a>        </span>
              </td></tr>
            <tr style="height:10px"></tr><tr><td colspan="2"></td><td><form action="comment" method="post"><input type="hidden" name="parent" value="36740921"><input type="hidden" name="goto" value="item?id=36740921"><input type="hidden" name="hmac" value="4db6a29106aa2e1e7ee28323b6b9b258a9f19bf5"><textarea name="text" rows="8" cols="80" wrap="virtual"></textarea><br><br>
<input type="submit" value="add comment"></form></td></tr>  </table><br><br><table border="0" class='comment-tree'>
            <tr class='athing comtr' id='36741589'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_36741589'href='vote?id=36741589&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=rickette" class="hnuser">rickette</a> <span class="age" title="2023-07-15T22:42:24"><a href="item?id=36741589">39 minutes ago</a></span> <span id="unv_36741589"></span>          <span class='navs'>
             | <a href="#36741833" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741589" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">The article contains a link with the rather curious title &quot;10 things that Richard Branson hates about PostgreSQL&quot;.... Turns out the guy who wrote that blog is called Rick Branson, not Richard.</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741589&amp;goto=item%3Fid%3D36740921%2336741589">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='36741757'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_36741757'href='vote?id=36741757&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=kstrauser" class="hnuser">kstrauser</a> <span class="age" title="2023-07-15T23:09:03"><a href="item?id=36741757">13 minutes ago</a></span> <span id="unv_36741757"></span>          <span class='navs'>
             | <a href="#36741589" class="clicky" aria-hidden="true">parent</a> | <a href="#36741661" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741757" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">That caught my eye, too. What do I care what the Virgin CEO thinks of a database?<p>Oh, not that one.</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741757&amp;goto=item%3Fid%3D36740921%2336741757">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='36741661'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_36741661'href='vote?id=36741661&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=rcme" class="hnuser">rcme</a> <span class="age" title="2023-07-15T22:56:09"><a href="item?id=36741661">26 minutes ago</a></span> <span id="unv_36741661"></span>          <span class='navs'>
             | <a href="#36741589" class="clicky" aria-hidden="true">parent</a> | <a href="#36741757" class="clicky" aria-hidden="true">prev</a> | <a href="#36741833" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741661" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c5a">Rick is a nickname for Richard.</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741661&amp;goto=item%3Fid%3D36740921%2336741661">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                            <tr class='athing comtr' id='36741833'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_36741833'href='vote?id=36741833&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=emmanueloga_" class="hnuser">emmanueloga_</a> <span class="age" title="2023-07-15T23:20:29"><a href="item?id=36741833">1 minute ago</a></span> <span id="unv_36741833"></span>          <span class='navs'>
             | <a href="#36741589" class="clicky" aria-hidden="true">prev</a> | <a href="#36741097" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741833" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">Experimental format to help readability of a long rant:<p>1.<p>According to the OP, there&#x27;s a &quot;terrifying tale of VACUUM in PostgreSQL,&quot; dating back to &quot;a historical artifact that traces its roots back to the Berkeley Postgres project.&quot; (1986?)<p>2.<p>Maybe the whole idea of &quot;use X, it has been battle-tested for [TIME], is robust, all the bugs have been and keep being fixed,&quot; etc., should not really be that attractive or realistic for at least a large subset of projects.<p>3.<p>In the case of Postgres, on top of piles of &quot;historic code&quot; and cruft, there&#x27;s the fact that each user of Postgres installs and runs a huge software artifact with hundreds or even thousands of features and dependencies, of which every particular user may only use a tiny subset.<p>4.<p>In Kleppmann&#x27;s DDOA [1], after explaining why the declarative SQL language is &quot;better,&quot; he writes: &quot;in databases, declarative query languages like SQL turned out to be much better than imperative query APIs.&quot; I find this footnote to the paragraph a bit ironic: &quot;IMS and CODASYL both used imperative query APIs. Applications typically used COBOL code to iterate over records in the database, one record at a time.&quot; So, SQL was better than CODASYL and COBOL in a number of ways... big surprise?<p>Postgres&#x27; own PL&#x2F;pgSQL [2] is a language that (I imagine) most people would rather NOT use: hence a bunch of alternatives, including PL&#x2F;v8, on its own a huge mass of additional complexity. SQL is definitely &quot;COBOLESQUE&quot; itself.<p>5.<p>Could we come up with something more minimal than SQL and looking less like COBOL? (Hopefully also getting rid of ORMs in the process). Also, I have found inspiring to see some people creating databases for themselves. Perhaps not a bad idea for small applications? For instance, I found BuntDB [3], which the developer seems to be using to run his own business [4]. Also, HYTRADBOI? :-) [5].<p>6.<p>A usual objection to use anything other than a stablished relational DB is &quot;creating a database is too difficult for the average programmer.&quot; How about debugging PostgreSQL issues, developing new storage engines for it, or even building expertise on how to set up the instances properly and keep it alive and performant? Is that easier?<p>I personally feel more capable of implementing a small, well-tested, problem-specific, small implementation of a B-Tree than learning how to develop Postgres extensions, become an expert in its configuration and internals, or debug its many issues.<p>Another common opinion is &quot;SQL is easy to use for non-programmers.&quot; But every person that knows SQL had to learn it somehow. I&#x27;m 100% confident that anyone able to learn SQL should be able to learn a simple, domain-specific, programming language designed for querying DBs. And how many of these people that are not able to program imperatively would be able to read a SQL EXPLAIN output and fix deficient queries? If they can, that supports even more the idea that they should be able to learn something different than SQL.<p>----<p>1: <a href="https:&#x2F;&#x2F;dataintensive.net&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;dataintensive.net&#x2F;</a><p>2: <a href="https:&#x2F;&#x2F;www.postgresql.org&#x2F;docs&#x2F;7.3&#x2F;plpgsql-examples.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.postgresql.org&#x2F;docs&#x2F;7.3&#x2F;plpgsql-examples.html</a><p>3: <a href="https:&#x2F;&#x2F;github.com&#x2F;tidwall&#x2F;buntdb">https:&#x2F;&#x2F;github.com&#x2F;tidwall&#x2F;buntdb</a><p>4: <a href="https:&#x2F;&#x2F;tile38.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;tile38.com&#x2F;</a><p>5: <a href="https:&#x2F;&#x2F;www.hytradboi.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.hytradboi.com&#x2F;</a></span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741833&amp;goto=item%3Fid%3D36740921%2336741833">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='36741097'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_36741097'href='vote?id=36741097&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=daenney" class="hnuser">daenney</a> <span class="age" title="2023-07-15T21:26:34"><a href="item?id=36741097">1 hour ago</a></span> <span id="unv_36741097"></span>          <span class='navs'>
             | <a href="#36741833" class="clicky" aria-hidden="true">prev</a> | <a href="#36741496" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741097" n="13" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">I love the whole “2.3x less CPU overhead per transaction” where Postgres scales from 5% to 65% CPU usage and Oriole sits constantly at 90%. That doesn’t seem like a huge success to me? The predictability sure is nice, but moving the lower end up by 85% is something I’d be rather worried about</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741097&amp;goto=item%3Fid%3D36740921%2336741097">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='36741480'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_36741480'href='vote?id=36741480&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=acjohnson55" class="hnuser">acjohnson55</a> <span class="age" title="2023-07-15T22:23:51"><a href="item?id=36741480">58 minutes ago</a></span> <span id="unv_36741480"></span>          <span class='navs'>
             | <a href="#36741097" class="clicky" aria-hidden="true">parent</a> | <a href="#36741337" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741480" n="6" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">You generally want to keep your CPU fully utilized. It looks like Oriole is doing significantly more transactions and is CPU-bound, due to much lower IO requirements. The good news is that it implies you could get even more performance out of Oriole by vertically scaling to a more powerful CPU, whereas Postgres would not continue to increase in performance this way.<p>Those idle times on the Postgres server <i>could</i> be used for something else, if you&#x27;re thinking in a desktop OS mindset. But for servers, you tend to want machines that are doing one thing and are optimized for that thing.</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741480&amp;goto=item%3Fid%3D36740921%2336741480">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='36741619'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_36741619'href='vote?id=36741619&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=tanelpoder" class="hnuser">tanelpoder</a> <span class="age" title="2023-07-15T22:47:50"><a href="item?id=36741619">34 minutes ago</a></span> <span id="unv_36741619"></span>          <span class='navs'>
             | <a href="#36741097" class="clicky" aria-hidden="true">root</a> | <a href="#36741480" class="clicky" aria-hidden="true">parent</a> | <a href="#36741535" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741619" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">&gt; You generally want to keep your CPU fully utilized.<p>Not in real life concurrent systems where latency matters.   In addition to the queuing&#x2F;random request arrival rate reasons, all kinds of funky latency hiccups start happening both at the DB and OS level when you run your CPU <i>average</i> utilization near 100%. Spinlocks, priority inversion, etc. Some bugs show up that don’t manifest when running with lower CPU utilization etc.</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741619&amp;goto=item%3Fid%3D36740921%2336741619">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='36741535'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_36741535'href='vote?id=36741535&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=raggi" class="hnuser">raggi</a> <span class="age" title="2023-07-15T22:31:54"><a href="item?id=36741535">50 minutes ago</a></span> <span id="unv_36741535"></span>          <span class='navs'>
             | <a href="#36741097" class="clicky" aria-hidden="true">root</a> | <a href="#36741480" class="clicky" aria-hidden="true">parent</a> | <a href="#36741619" class="clicky" aria-hidden="true">prev</a> | <a href="#36741337" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741535" n="4" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">It’s hard to generalize on these points. In a situation where the throughput was inverted but the proportional system usage was the same, you would instead say “you can still vertically scale by adding more disks”, rather than saying adding bigger cpu. It’s not meaningful in isolation.<p>It may be reasonable to suggest that for a new code base that is cpu bound there’s a good chance there is low hanging fruit for cpu optimizations that may further increase the throughput gap. It’s also the case however that the prior engines tuning starting life on much older computer architectures, drastically different proportional syscall costs and so on, it very often means that there’s low hanging fruit in configuration to improve baseline benchmarks such as these. High io time suggests poor caching which in many scenarios you’d consider a suboptimal deployed configuration.<p>It’s not just the devil that’s in the details, it’s everything.</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741535&amp;goto=item%3Fid%3D36740921%2336741535">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='36741595'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_36741595'href='vote?id=36741595&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=raggi" class="hnuser">raggi</a> <span class="age" title="2023-07-15T22:43:24"><a href="item?id=36741595">38 minutes ago</a></span> <span id="unv_36741595"></span>          <span class='navs'>
             | <a href="#36741097" class="clicky" aria-hidden="true">root</a> | <a href="#36741535" class="clicky" aria-hidden="true">parent</a> | <a href="#36741618" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741595" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">To be a little more clear on what the detail of the benchmark in question is: it’s a benchmark that explicitly exercises a pathological use case for postgresqls current design, one that nonetheless functions, and demonstrates that the advertised engine does not have that pathology. A key takeaway should probably be, if you’re a Postgres user: if your workload looks exactly like this (sparse upserts into a large data set at a high rate) then you might want to evaluate your the runway of your architecture before the geometric costs or latency stalls become relevant - just as for cost analysis of any other system. What is somewhat interesting in this article, and not super clearly presented, is that this workload is actually fairly pathological for most existing engines offering this set of structural and query facilities, and that’s interesting, if this is the niche you need. Most people do some amount of this, but not always at a super high rate, and there are ways to get the same effective writable&#x2F;readable data using a different schema, while avoiding it. Nice thing here is you can do the one-liner version.</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741595&amp;goto=item%3Fid%3D36740921%2336741595">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='36741618'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_36741618'href='vote?id=36741618&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=gary_0" class="hnuser">gary_0</a> <span class="age" title="2023-07-15T22:47:46"><a href="item?id=36741618">34 minutes ago</a></span> <span id="unv_36741618"></span>          <span class='navs'>
             | <a href="#36741097" class="clicky" aria-hidden="true">root</a> | <a href="#36741535" class="clicky" aria-hidden="true">parent</a> | <a href="#36741595" class="clicky" aria-hidden="true">prev</a> | <a href="#36741585" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741618" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">&gt; you can still vertically scale by adding more disks<p>Parallelizing IO is a lot different from scaling up CPU power, though. I&#x27;d imagine DB server IO performance has a lot less lower-hanging fruit than CPU&#x2F;software performance.</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741618&amp;goto=item%3Fid%3D36740921%2336741618">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='36741585'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_36741585'href='vote?id=36741585&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=acjohnson55" class="hnuser">acjohnson55</a> <span class="age" title="2023-07-15T22:41:13"><a href="item?id=36741585">40 minutes ago</a></span> <span id="unv_36741585"></span>          <span class='navs'>
             | <a href="#36741097" class="clicky" aria-hidden="true">root</a> | <a href="#36741535" class="clicky" aria-hidden="true">parent</a> | <a href="#36741618" class="clicky" aria-hidden="true">prev</a> | <a href="#36741337" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741585" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">That makes sense. I&#x27;m mostly just trying to explain the counterintuitive reason that the high CPU usage shouldn&#x27;t be interpreted as a flaw.</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741585&amp;goto=item%3Fid%3D36740921%2336741585">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                        <tr class='athing comtr' id='36741337'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_36741337'href='vote?id=36741337&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=jklehm" class="hnuser">jklehm</a> <span class="age" title="2023-07-15T22:00:39"><a href="item?id=36741337">1 hour ago</a></span> <span id="unv_36741337"></span>          <span class='navs'>
             | <a href="#36741097" class="clicky" aria-hidden="true">parent</a> | <a href="#36741480" class="clicky" aria-hidden="true">prev</a> | <a href="#36741721" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741337" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">My read is that it&#x27;s at 90% because they are saturating the CPU to that point with the TPS threshold they use for comparison, the TPS of Oriole is constant and way higher than pg in these charts at least.<p>I&#x27;d think the CPU will drop proportionally to the TPS, they just want to show how high it can go here.</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741337&amp;goto=item%3Fid%3D36740921%2336741337">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='36741721'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_36741721'href='vote?id=36741721&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=aseipp" class="hnuser">aseipp</a> <span class="age" title="2023-07-15T23:05:21"><a href="item?id=36741721">16 minutes ago</a></span> <span id="unv_36741721"></span>          <span class='navs'>
             | <a href="#36741097" class="clicky" aria-hidden="true">parent</a> | <a href="#36741337" class="clicky" aria-hidden="true">prev</a> | <a href="#36741341" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741721" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">Yes, but now that your CPU utilization is uncapped, you can more easily scale the utilization down and retain some form of proportional performance, so it doesn&#x27;t matter. If you capped the system to 60% of your CPU, it might change the overall numbers, but say you&#x27;re doing 1.8x more TPS at the same usage, it&#x27;s a win either way. It&#x27;s not a marketing trick; those numbers come across as &quot;Very good&quot;, to me.<p>If Expensive Server CPU = X dollars per unit, and it&#x27;s only used at 60% capacity and can realistically only be used at that capacity, then you have effectively just set .4*X amount of dollars on fire, per unit. If you can vertically take a workload and scale it to saturate 90% of a machine, it&#x27;s generally easy to apply QOS and other isolation techniques to achieve lower saturation and retain some proportional level of performance. The reverse is not true: if you can only hit 60% of your total machine saturation before you need to scale out, then the only way to get to 90% or higher saturation is through a redesign. Which is exactly what has happened here.</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741721&amp;goto=item%3Fid%3D36740921%2336741721">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='36741341'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_36741341'href='vote?id=36741341&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=pella" class="hnuser">pella</a> <span class="age" title="2023-07-15T22:01:13"><a href="item?id=36741341">1 hour ago</a></span> <span id="unv_36741341"></span>          <span class='navs'>
             | <a href="#36741097" class="clicky" aria-hidden="true">parent</a> | <a href="#36741721" class="clicky" aria-hidden="true">prev</a> | <a href="#36741469" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741341" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">With the same equipment, your performance is now five times better. (5X higher TPS) We need to test again with more hardware, but if you can maintain 3 times the performance at the lower end, it could be a good alternative for some users.<p><i>&quot;As the cumulative result of the improvements discussed above, OrioleDB provides:<p>- 5X higher TPS,<p>- 2.3X less CPU load per transaction,<p>- 22X less IOPS per transaction,<p>- No table and index bloat.&quot;</i></span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741341&amp;goto=item%3Fid%3D36740921%2336741341">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='36741469'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_36741469'href='vote?id=36741469&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=waterproof" class="hnuser">waterproof</a> <span class="age" title="2023-07-15T22:21:49"><a href="item?id=36741469">1 hour ago</a></span> <span id="unv_36741469"></span>          <span class='navs'>
             | <a href="#36741097" class="clicky" aria-hidden="true">parent</a> | <a href="#36741341" class="clicky" aria-hidden="true">prev</a> | <a href="#36741321" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741469" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">Eyeballing the tps graph, OrioleDB is doing 5x tps while using 2x the CPU. So about 5&#x2F;2=2.5x the CPU per transaction.<p>Checks out.</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741469&amp;goto=item%3Fid%3D36740921%2336741469">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='36741662'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_36741662'href='vote?id=36741662&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=gary_0" class="hnuser">gary_0</a> <span class="age" title="2023-07-15T22:56:15"><a href="item?id=36741662">25 minutes ago</a></span> <span id="unv_36741662"></span>          <span class='navs'>
             | <a href="#36741097" class="clicky" aria-hidden="true">root</a> | <a href="#36741469" class="clicky" aria-hidden="true">parent</a> | <a href="#36741321" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741662" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">5x tps with 2x CPU is 2&#x2F;5 = 0.4x the CPU (ie. it&#x27;s more efficient per transaction).</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741662&amp;goto=item%3Fid%3D36740921%2336741662">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                  <tr class='athing comtr' id='36741321'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_36741321'href='vote?id=36741321&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=adsharma" class="hnuser">adsharma</a> <span class="age" title="2023-07-15T21:57:57"><a href="item?id=36741321">1 hour ago</a></span> <span id="unv_36741321"></span>          <span class='navs'>
             | <a href="#36741097" class="clicky" aria-hidden="true">parent</a> | <a href="#36741469" class="clicky" aria-hidden="true">prev</a> | <a href="#36741496" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741321" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">It&#x27;s not clear if the CPU cost per tx is any worse. Was OrioleDB doing 5x the transactions at this CPU usage?</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741321&amp;goto=item%3Fid%3D36740921%2336741321">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                  <tr class='athing comtr' id='36741496'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_36741496'href='vote?id=36741496&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=ruuda" class="hnuser">ruuda</a> <span class="age" title="2023-07-15T22:25:01"><a href="item?id=36741496">57 minutes ago</a></span> <span id="unv_36741496"></span>          <span class='navs'>
             | <a href="#36741097" class="clicky" aria-hidden="true">prev</a> | <a href="#36741409" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741496" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">Vacuum does more than removing dead tuples though, there is still a need to update statistics and summarize BRINs.</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741496&amp;goto=item%3Fid%3D36740921%2336741496">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='36741523'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_36741523'href='vote?id=36741523&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=wild_egg" class="hnuser">wild_egg</a> <span class="age" title="2023-07-15T22:29:45"><a href="item?id=36741523">52 minutes ago</a></span> <span id="unv_36741523"></span>          <span class='navs'>
             | <a href="#36741496" class="clicky" aria-hidden="true">parent</a> | <a href="#36741522" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741523" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">You&#x27;re thinking of ANALYZE which is a separate operation that&#x27;s commonly run during vacuuming but can be invoked independently</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741523&amp;goto=item%3Fid%3D36740921%2336741523">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='36741522'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_36741522'href='vote?id=36741522&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=javajosh" class="hnuser">javajosh</a> <span class="age" title="2023-07-15T22:29:32"><a href="item?id=36741522">52 minutes ago</a></span> <span id="unv_36741522"></span>          <span class='navs'>
             | <a href="#36741496" class="clicky" aria-hidden="true">parent</a> | <a href="#36741523" class="clicky" aria-hidden="true">prev</a> | <a href="#36741409" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741522" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">Yes. The (psql 15) docs are well written: <a href="https:&#x2F;&#x2F;www.postgresql.org&#x2F;docs&#x2F;15&#x2F;routine-vacuuming.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.postgresql.org&#x2F;docs&#x2F;15&#x2F;routine-vacuuming.html</a></span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741522&amp;goto=item%3Fid%3D36740921%2336741522">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                  <tr class='athing comtr' id='36741409'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_36741409'href='vote?id=36741409&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=ccleve" class="hnuser">ccleve</a> <span class="age" title="2023-07-15T22:10:54"><a href="item?id=36741409">1 hour ago</a></span> <span id="unv_36741409"></span>          <span class='navs'>
             | <a href="#36741496" class="clicky" aria-hidden="true">prev</a> | <a href="#36741419" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741409" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">Is there any documentation on the &quot;extensibility patches&quot;? What did you have to do to core Postgres to get this new approach to work?</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741409&amp;goto=item%3Fid%3D36740921%2336741409">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='36741419'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_36741419'href='vote?id=36741419&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=oaiey" class="hnuser">oaiey</a> <span class="age" title="2023-07-15T22:13:59"><a href="item?id=36741419">1 hour ago</a></span> <span id="unv_36741419"></span>          <span class='navs'>
             | <a href="#36741409" class="clicky" aria-hidden="true">prev</a> | <a href="#36741466" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741419" n="6" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">I read object relational? Can someone enlighten me? Entity relational fine but what makes it object relational? Has someone flipped on the buzzword in the years I did not pay attention</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741419&amp;goto=item%3Fid%3D36740921%2336741419">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='36741455'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_36741455'href='vote?id=36741455&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=grzm" class="hnuser">grzm</a> <span class="age" title="2023-07-15T22:19:18"><a href="item?id=36741455">1 hour ago</a></span> <span id="unv_36741455"></span>          <span class='navs'>
             | <a href="#36741419" class="clicky" aria-hidden="true">parent</a> | <a href="#36741450" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741455" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">It&#x27;s been object relational (and described as such) going <i>way</i> back. I think the most visible (if infrequently used) object-oriented feature that it has is inheritance: <a href="https:&#x2F;&#x2F;www.postgresql.org&#x2F;docs&#x2F;current&#x2F;tutorial-inheritance.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.postgresql.org&#x2F;docs&#x2F;current&#x2F;tutorial-inheritance...</a></span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741455&amp;goto=item%3Fid%3D36740921%2336741455">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='36741450'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_36741450'href='vote?id=36741450&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=feike" class="hnuser">feike</a> <span class="age" title="2023-07-15T22:18:27"><a href="item?id=36741450">1 hour ago</a></span> <span id="unv_36741450"></span>          <span class='navs'>
             | <a href="#36741419" class="clicky" aria-hidden="true">parent</a> | <a href="#36741455" class="clicky" aria-hidden="true">prev</a> | <a href="#36741431" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741450" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">PostgreSQL has used this term for decades!<p>The oldest I can find is from 1998 (PostgreSQL 6.3), but it was probably in use even before.<p>&gt; Postgres offers substantial additional power by incorporating the following four additional basic concepts in such a way that users can easily extend the system:<p>classes
inheritance
types
functions<p>Other features provide additional power and flexibility:<p>constraints
triggers
rules
transaction integrity<p>These features put Postgres into the category of databases referred to as object-relational<p><a href="https:&#x2F;&#x2F;www.postgresql.org&#x2F;docs&#x2F;6.3&#x2F;c0101.htm" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.postgresql.org&#x2F;docs&#x2F;6.3&#x2F;c0101.htm</a></span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741450&amp;goto=item%3Fid%3D36740921%2336741450">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='36741431'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_36741431'href='vote?id=36741431&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=zetalyrae" class="hnuser">zetalyrae</a> <span class="age" title="2023-07-15T22:15:38"><a href="item?id=36741431">1 hour ago</a></span> <span id="unv_36741431"></span>          <span class='navs'>
             | <a href="#36741419" class="clicky" aria-hidden="true">parent</a> | <a href="#36741450" class="clicky" aria-hidden="true">prev</a> | <a href="#36741459" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741431" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">I looked this up the other day because I was similarly surprised, I think it refers to Postgres&#x27; ability to do table inheritance: <a href="https:&#x2F;&#x2F;www.postgresql.org&#x2F;docs&#x2F;current&#x2F;tutorial-inheritance.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.postgresql.org&#x2F;docs&#x2F;current&#x2F;tutorial-inheritance...</a></span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741431&amp;goto=item%3Fid%3D36740921%2336741431">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='36741459'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_36741459'href='vote?id=36741459&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=nieve" class="hnuser">nieve</a> <span class="age" title="2023-07-15T22:19:47"><a href="item?id=36741459">1 hour ago</a></span> <span id="unv_36741459"></span>          <span class='navs'>
             | <a href="#36741419" class="clicky" aria-hidden="true">parent</a> | <a href="#36741431" class="clicky" aria-hidden="true">prev</a> | <a href="#36741453" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741459" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">It&#x27;s because PostgreSQL has inheritance and has almost certainly used the term object relational since before you heard of it.</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741459&amp;goto=item%3Fid%3D36740921%2336741459">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='36741453'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_36741453'href='vote?id=36741453&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=brazzy" class="hnuser">brazzy</a> <span class="age" title="2023-07-15T22:18:51"><a href="item?id=36741453">1 hour ago</a></span> <span id="unv_36741453"></span>          <span class='navs'>
             | <a href="#36741419" class="clicky" aria-hidden="true">parent</a> | <a href="#36741459" class="clicky" aria-hidden="true">prev</a> | <a href="#36741466" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741453" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00"><a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;45865961&#x2F;what-does-postgresql-to-be-ordbms-mean" rel="nofollow noreferrer">https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;45865961&#x2F;what-does-postg...</a></span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741453&amp;goto=item%3Fid%3D36740921%2336741453">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                  <tr class='athing comtr' id='36741466'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_36741466'href='vote?id=36741466&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=glogla" class="hnuser">glogla</a> <span class="age" title="2023-07-15T22:21:20"><a href="item?id=36741466">1 hour ago</a></span> <span id="unv_36741466"></span>          <span class='navs'>
             | <a href="#36741419" class="clicky" aria-hidden="true">prev</a> | <a href="#36741355" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741466" n="6" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">I with people would stop with the &quot;Uber migrated from Postgres to MySQL&quot; thing. Uber migrated from Postgres used as relational database to something that is basically their own non-relational database using MySQL as distributed key-value store. It is not really situation applicable to most users of Postgres.<p>Anyway, this design of MVCC which moves older data into undo logs &#x2F; segments is used by Oracle DB, so it definitely works. The common challenge with it is that reading older versions of data is slower, because you have to look it up in a log, and sometimes the data is removed from the log before your transactions finishes, getting the dreaded &quot;Snapshot Too Old&quot; error.<p>E: I don&#x27;t see in the article when rows get evicted from the undo logs. If when they are no longer needed, I&#x27;m not sure where the improvement comes from because it should be similar amount of bookkeeping? If it&#x27;s a circular buffer that can ran out of space like Oracle does it that would mean under high write load long-running transactions starts to fail which is pretty unpleasant.</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741466&amp;goto=item%3Fid%3D36740921%2336741466">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='36741499'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_36741499'href='vote?id=36741499&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=paulddraper" class="hnuser">paulddraper</a> <span class="age" title="2023-07-15T22:25:45"><a href="item?id=36741499">56 minutes ago</a></span> <span id="unv_36741499"></span>          <span class='navs'>
             | <a href="#36741466" class="clicky" aria-hidden="true">parent</a> | <a href="#36741355" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741499" n="5" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c5a">SQL Server avoids vacuum as well, it might be this way, I can&#x27;t recall.<p>And of course MySQL avoids vacuum by giving a giant middle to concurrency considerations.</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741499&amp;goto=item%3Fid%3D36740921%2336741499">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='36741531'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_36741531'href='vote?id=36741531&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=glogla" class="hnuser">glogla</a> <span class="age" title="2023-07-15T22:30:59"><a href="item?id=36741531">51 minutes ago</a></span> <span id="unv_36741531"></span>          <span class='navs'>
             | <a href="#36741466" class="clicky" aria-hidden="true">root</a> | <a href="#36741499" class="clicky" aria-hidden="true">parent</a> | <a href="#36741355" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741531" n="4" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">I&#x27;m pretty sure SQL Server and MySQL use locking instead of MultiVersion Concurrency Control so they don&#x27;t keep more copies of data around. No vacuum needed but there&#x27;s a possibility of things blocking.<p>But I might be out of date.</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741531&amp;goto=item%3Fid%3D36740921%2336741531">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='36741646'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_36741646'href='vote?id=36741646&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=evanelias" class="hnuser">evanelias</a> <span class="age" title="2023-07-15T22:51:37"><a href="item?id=36741646">30 minutes ago</a></span> <span id="unv_36741646"></span>          <span class='navs'>
             | <a href="#36741466" class="clicky" aria-hidden="true">root</a> | <a href="#36741531" class="clicky" aria-hidden="true">parent</a> | <a href="#36741717" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741646" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">InnoDB (MySQL&#x27;s default storage engine) implements MVCC using undo logging and background purge threads. It scales to highly concurrent OLTP workloads quite well. It doesn&#x27;t work well with OLAP workloads &#x2F; long-running transactions though. The oldest active transaction will block purging of anything newer than that transaction&#x27;s snapshot.</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741646&amp;goto=item%3Fid%3D36740921%2336741646">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='36741717'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_36741717'href='vote?id=36741717&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=arbitrix" class="hnuser">arbitrix</a> <span class="age" title="2023-07-15T23:04:42"><a href="item?id=36741717">17 minutes ago</a></span> <span id="unv_36741717"></span>          <span class='navs'>
             | <a href="#36741466" class="clicky" aria-hidden="true">root</a> | <a href="#36741531" class="clicky" aria-hidden="true">parent</a> | <a href="#36741646" class="clicky" aria-hidden="true">prev</a> | <a href="#36741639" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741717" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">SQL Server has had MVCC since 2005.</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741717&amp;goto=item%3Fid%3D36740921%2336741717">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='36741639'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_36741639'href='vote?id=36741639&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=paulddraper" class="hnuser">paulddraper</a> <span class="age" title="2023-07-15T22:50:58"><a href="item?id=36741639">31 minutes ago</a></span> <span id="unv_36741639"></span>          <span class='navs'>
             | <a href="#36741466" class="clicky" aria-hidden="true">root</a> | <a href="#36741531" class="clicky" aria-hidden="true">parent</a> | <a href="#36741717" class="clicky" aria-hidden="true">prev</a> | <a href="#36741355" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="36741639" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">Yes, MySQL has read locks.<p>But I don&#x27;t believe SQL Server does.</span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741639&amp;goto=item%3Fid%3D36740921%2336741639">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                              <tr class='athing comtr' id='36741355'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_36741355'href='vote?id=36741355&amp;how=up&amp;goto=item%3Fid%3D36740921'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=pella" class="hnuser">pella</a> <span class="age" title="2023-07-15T22:03:28"><a href="item?id=36741355">1 hour ago</a></span> <span id="unv_36741355"></span>          <span class='navs'>
             | <a href="#36741466" class="clicky" aria-hidden="true">prev</a> <a class="togg clicky" id="36741355" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <span class="commtext c00">simple OrioleDB docker build tutorial :<p><a href="https:&#x2F;&#x2F;github.com&#x2F;orioledb&#x2F;orioledb&#x2F;blob&#x2F;main&#x2F;doc&#x2F;docker_usage.md">https:&#x2F;&#x2F;github.com&#x2F;orioledb&#x2F;orioledb&#x2F;blob&#x2F;main&#x2F;doc&#x2F;docker_us...</a></span>
              <div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=36741355&amp;goto=item%3Fid%3D36740921%2336741355">reply</a></u>
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            </table>
  <br><br>
</td></tr>
<tr><td><img src="s.gif" height="10" width="0"><table width="100%" cellspacing="0" cellpadding="1"><tr><td bgcolor="#ff6600"></td></tr></table><br>
<center><span class="yclinks"><a href="newsguidelines.html">Guidelines</a> | <a href="newsfaq.html">FAQ</a> | <a href="lists">Lists</a> | <a href="https://github.com/HackerNews/API">API</a> | <a href="security.html">Security</a> | <a href="https://www.ycombinator.com/legal/">Legal</a> | <a href="https://www.ycombinator.com/apply/">Apply to YC</a> | <a href="mailto:hn@ycombinator.com">Contact</a></span><br><br>
<form method="get" action="//hn.algolia.com/">Search: <input type="text" name="q" size="17" autocorrect="off" spellcheck="false" autocapitalize="off" autocomplete="false"></form></center></td></tr>      </table></center></body>
      <script type='text/javascript' src='hn.js?5H9MtNw5DeqtfAm5Zd9Y'></script>
  </html>
